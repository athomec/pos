{"version":3,"sources":["script.js"],"names":["$","WINDOW","window","width","WINDOWH","height","mailList","each","hammer","Hammer","direction","minX","maxX","buying","lastPosX","listItem","on","e","preventDefault","target","parents","positionX","deltaX","type","css","snap","console","log","animate","left","addClass","resetOtherItems","activeItem","not","item","removeClass","scrollbar","document","querySelector","content","isScrolling","toggleScrollbarVisibility","classList","remove","add","lastScrollTop","handlePanMove","scrollTop","handlePanEnd","get","set","DIRECTION_ALL","find","click","toggleClass"],"mappings":"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","sourcesContent":["$(function () {//JS開頭\n\n\tvar WINDOW = $(window).width();//視窗寬度\n\tvar WINDOWH = $(window).height();//視窗高度\n\n\t//---------------------訂單左滑刪除設定------------------------\n\tvar mailList = $('.js-slidetoleft').each(function () {\n\t\tvar hammer = new Hammer(this);\n\t\tvar direction;\n\t\tvar minX = -275//右側按鈕寬度\n\t\tvar maxX = 0;\n\t\tvar buying = false;\n\t\tvar lastPosX;\n\t\tvar listItem;\n\n\t\thammer.on('panleft panright panend', function (e) {\n\t\t\te.preventDefault();\n\t\t\tlistItem = $(e.target).parents('.js-slidetoleft');\n\t\t\tvar positionX = e.deltaX;\n\t\t\tpositionX = positionX + lastPosX;\n\t\t\tif (e.type == 'panleft' && positionX >= -90 && positionX <= 0) {\n\t\t\t\tdirection = e.type;\n\t\t\t\tlistItem.css('left', positionX);\n\t\t\t} else if (e.type == 'panright' && positionX <= 30 && positionX >= -50) {\n\t\t\t\tdirection = e.type;\n\t\t\t\tlistItem.css('left', positionX);\n\t\t\t} else if (e.type == 'panend') {\n\t\t\t\tsnap(direction, listItem);\n\t\t\t}\n\t\t});\n\n\t\tfunction snap(direction, listItem) {\n\t\t\tlastPosX = direction == 'panleft' ? minX : maxX;\n\t\t\tbuying = lastPosX == minX ? true : false;\n\t\t\tconsole.log(buying);\n\t\t\tlistItem.animate({\n\t\t\t\tleft: lastPosX + \"px\"\n\t\t\t}, 100);\n\t\t\tlistItem.addClass('active');\n\t\t\tresetOtherItems(listItem);\n\t\t}\n\n\t\thammer.on('panstart', function (e) {\n\t\t\tlistItem = $(e.target).parents('.js-slidetoleft');\n\t\t\tlistItem.addClass('active');\n\t\t\tresetOtherItems(listItem);\n\t\t});\n\n\t\tfunction resetOtherItems(activeItem) {\n\t\t\t$('.js-slidetoleft').not(activeItem).each(function () {\n\t\t\t\tvar item = $(this);\n\t\t\t\titem.animate({ left: \"0px\" }, 100);\n\t\t\t\titem.removeClass('active');\n\t\t\t});\n\t\t}\n\n\t\thammer.on('tap', function (e) {\n\t\t\tvar listItem = $(e.target).parents('.js-slidetoleft');\n\t\t\tlistItem.addClass('active');\n\t\t\tresetOtherItems(listItem);\n\t\t});\n\t});\n\t//---------------------點餐左滑刪除設定------------------------\n\tvar mailList = $('.js-slidedelete').each(function () {\n\t\tvar hammer = new Hammer(this);\n\t\tvar direction;\n\t\tvar minX = -88//右側按鈕寬度\n\t\tvar maxX = 0;\n\t\tvar buying = false;\n\t\tvar lastPosX;\n\t\tvar listItem;\n\n\t\thammer.on('panleft panright panend', function (e) {\n\t\t\te.preventDefault();\n\t\t\tlistItem = $(e.target).parents('.js-slidedelete');\n\t\t\tvar positionX = e.deltaX;\n\t\t\tpositionX = positionX + lastPosX;\n\t\t\tif (e.type == 'panleft' && positionX >= -90 && positionX <= 0) {\n\t\t\t\tdirection = e.type;\n\t\t\t\tlistItem.css('left', positionX);\n\t\t\t} else if (e.type == 'panright' && positionX <= 30 && positionX >= -50) {\n\t\t\t\tdirection = e.type;\n\t\t\t\tlistItem.css('left', positionX);\n\t\t\t} else if (e.type == 'panend') {\n\t\t\t\tsnap(direction, listItem);\n\t\t\t}\n\t\t});\n\n\t\tfunction snap(direction, listItem) {\n\t\t\tlastPosX = direction == 'panleft' ? minX : maxX;\n\t\t\tbuying = lastPosX == minX ? true : false;\n\t\t\tconsole.log(buying);\n\t\t\tlistItem.animate({\n\t\t\t\tleft: lastPosX + \"px\"\n\t\t\t}, 100);\n\t\t\tlistItem.addClass('active');\n\t\t\tresetOtherItems(listItem);\n\t\t}\n\n\t\thammer.on('panstart', function (e) {\n\t\t\tlistItem = $(e.target).parents('.js-slidedelete');\n\t\t\tlistItem.addClass('active');\n\t\t\tresetOtherItems(listItem);\n\t\t});\n\n\t\tfunction resetOtherItems(activeItem) {\n\t\t\t$('.js-slidedelete').not(activeItem).each(function () {\n\t\t\t\tvar item = $(this);\n\t\t\t\titem.animate({ left: \"0px\" }, 100);\n\t\t\t\titem.removeClass('active');\n\t\t\t});\n\t\t}\n\n\t\thammer.on('tap', function (e) {\n\t\t\tvar listItem = $(e.target).parents('.js-slidedelete');\n\t\t\tlistItem.addClass('active');\n\t\t\tresetOtherItems(listItem);\n\t\t});\n\t});\n\t//---------------------捲軸設定------------------------\n\tconst scrollbar = document.querySelector('.scrollbar');\n\tconst content = document.querySelector('.scroll-content');\n\tconsole.log(scrollbar);\n\tconsole.log(content);\n\tlet isScrolling = false;\n\n\tconst toggleScrollbarVisibility = () => {\n\t\tif (isScrolling) {\n\t\t\tscrollbar.classList.remove('active');\n\t\t} else {\n\t\t\tscrollbar.classList.add('active');\n\t\t}\n\t};\n\n\tlet lastScrollTop = 0;\n\n\tconst handlePanMove = () => {\n\t\tconsole.log('panmove');\n\t\tif (content.scrollTop !== lastScrollTop) {\n\t\t\tisScrolling = true;\n\t\t\ttoggleScrollbarVisibility();\n\t\t}\n\t\tlastScrollTop = content.scrollTop;\n\t};\n\n\tconst handlePanEnd = () => {\n\t\tconsole.log('panend');\n\t\tisScrolling = false;\n\t};\n\n\tconst hammer = new Hammer(content);\n\thammer.get('pan').set({ direction: Hammer.DIRECTION_ALL });\n\thammer.on('panmove', handlePanMove);\n\thammer.on('panend', handlePanEnd);\n\t//---------------------桌號設定------------------------\n\t$(\".js-box-list-wrapper\").find(\"button\").click(function () {\n\t\t$(this).toggleClass(\"active\");\n\t})\n\t//----------------列數切換-----------------\n\t$(\".js-grid3\").click(function () {\n\t\t$(\".js-menu-card\").find(\"li\").removeClass(\"col-3\").addClass(\"col-4\");\n\t})\n\t$(\".js-grid4\").click(function () {\n\t\t$(\".js-menu-card\").find(\"li\").removeClass(\"col-4\").addClass(\"col-3\");\n\t})\n\t//----------------搜尋按鈕-----------------\n\t$(\".js-backdrop\").click(function () {\n\t\t$(\".js-search-dropdown\").removeClass(\"active\");\n\t\t$(\".js-backdrop\").removeClass(\"show\");\n\t})\n\t$(\".js-search-input\").click(function () {\n\t\t$(\".js-search-dropdown\").toggleClass(\"active\");\n\t\t$(\".js-backdrop\").toggleClass(\"show\");\n\t})\n\t$(\".js-search-btn\").click(function () {\n\t\t$(\".js-search-dropdown\").removeClass(\"active\");\n\t\t$(\".js-backdrop\").removeClass(\"show\");\n\t})\n\n\t\n})//JS尾端\t\n\n"],"file":"script.js"}